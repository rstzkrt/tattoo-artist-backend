openapi: 3.0.3
info:
  title: tattoo-work-contract
  description: tattoo-work
  version: 1.0.0
paths:
  /tattoo-works:
    get:
      operationId: getAllTattooWorks
      description: get all tattooWorks
      parameters:
        - in: query
          name: country
          description: country
          required: false
          schema:
            type: string
        - in: query
          name: price
          description: price
          required: true
          schema:
            type: number
        - in: query
          name: page
          required: true
          schema:
            type: integer
        - in: query
          name: size
          required: true
          schema:
            type: integer
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TattooWorkResponsePageable'
        default:
          description: error payload
          content:
            application/json:
              schema:
                $ref: './user-contract.yaml/#/components/schemas/ErrorResponse'
    post:
      operationId: createTattooWork
      description: create
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TattooWorkPostRequestDto'
      responses:
        201:
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TattooWorksResponseDto'
        default:
          description: error payload
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /tattoo-works/search:
    get:
      operationId: searchTattooWorks
      description: search
      parameters:
        - in: query
          name: query
          description: description
          required: false
          schema:
            type: string
        - in: query
          name: min_price
          description: query keyword
          required: false
          schema:
            type: integer
        - in: query
          name: max_price
          description: query keyword
          required: false
          schema:
            type: integer
        - in: query
          name: currency
          description: query keyword
          required: false
          schema:
            type: string
        - in: query
          name: tattooStyle
          description: query tattooStyle
          required: false
          schema:
            type: string
        - in: query
          name: page
          required: true
          schema:
            type: integer
        - in: query
          name: size
          required: true
          schema:
            type: integer
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TattooWorkResponsePageable'
        default:
          description: error payload
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /tattoo-works/{id}:
    get:
      operationId: getTattooWorkById
      description: get tattoo work
      parameters:
        - in: path
          name: id
          description: tattoo-work id
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TattooWorksResponseDto'
        default:
          description: error payload
          content:
            application/json:
              schema:
                $ref: './user-contract.yaml/#/components/schemas/ErrorResponse'
    delete:
      operationId: deleteTattooWork
      description: delete
      parameters:
        - in: path
          name: id
          description: tattoo-work id
          required: true
          schema:
            type: string
            format: uuid
      responses:
        204:
          description: no content
        default:
          description: error payload
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
    patch:
      operationId: patchTattooWork
      description: patch
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TattooWorkPatchRequestDto'
      parameters:
        - in: path
          name: id
          description: tattoo-work id
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TattooWorksResponseDto'
        default:
          description: error payload
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
components:
  schemas:

    TattooWorkPostRequestDto:
      type: object
      properties:
        description:
          type: string
        price:
          type: number
        tattooStyle:
            $ref: '#/components/schemas/TattooStyle'
        currency:
          $ref: '#/components/schemas/Currency'
        coverPhoto:
          type: string
        photos:
          type: array
          items:
            type: string
        clientId:
          type: string
          format: uuid

    TattooWorkPatchRequestDto:
      type: object
      properties:
        description:
          type: string
        price:
          type: number
        tattooStyle:
            $ref: '#/components/schemas/TattooStyle'
        currency:
          $ref: '#/components/schemas/Currency'
        coverPhoto:
          type: string
        photos:
          type: array
          items:
            type: string

    TattooWorksResponseDto:
      type: object
      properties:
        id:
          type: string
          format: uuid
        description:
          type: string
        clientId:
          type: string
          format: uuid
        price:
          type: number
        commentId:
          type: string
          format: uuid
        currency:
          $ref: '#/components/schemas/Currency'
        dislike_number:
          type: integer
        like_number:
          type: integer
        coverPhoto:
          type: string
        photos:
          type: array
          items:
            type: string
        madeBy:
          $ref: '#/components/schemas/MadeByInfo'
        disLikerIds:
          type: array
          items:
            type: string
            format: uuid
        likerIds:
          type: array
          items:
            type: string
            format: uuid
        tattooStyle:
          $ref: '#/components/schemas/TattooStyle'
        takenReports:
          type: array
          items:
            $ref: '#/components/schemas/TattooWorkTakenReportDto'

    TattooWorkTakenReportDto:
      properties:
        reportOwner:
          type: string
          format: uuid
        reportedTattooWork:
          type: string
          format: uuid

    TattooWorkResponsePageable:
      properties:
        totalElements:
          type: integer
        tattooWorks:
          type: array
          items:
            $ref: '#/components/schemas/TattooWorksResponseDto'


    MadeByInfo:
      type: object
      properties:
        id:
          type: string
          format: uuid
        uid:
          type: string
          description: id for firebase auth
        firstName:
          type: string
        lastName:
          type: string
        avatarUrl:
          type: string
        birthDate:
          type: string
          format: date
        tattooStyles:
          type: array
          items:
            $ref: '#/components/schemas/TattooStyle'
        email:
          type: string
        hasArtistPage:
          type: boolean
        workDays:
          type: array
          items:
            $ref: '#/components/schemas/WorkingDays'
        averageRating:
          type: number
        phoneNumber:
          type: string
        street:
          type: string
        city:
          type: string
        country:
          type: string
        state:
          type: string
        postalCode:
          type: string
        otherInformation:
          type: string

    TattooWorkReportResponseDto:
      type: object
      properties:
        reportOwnerId:
          type: string
          format: uuid
        reportedTattooWorkId:
          type: string
          format: uuid


    TattooStyle:
      enum:
        - OLD_SCHOOL
        - TRIBAL
        - ASIAN_ORIENTAL
        - SCRIPT
        - WATERCOLOUR
        - PORTRAITS
        - NEW_SCHOOL
        - BLACK_AND_GREY
        - BIOMECHANICAL
        - REALISTIC
        - DOT_WORK
    Currency:
      enum:
        - AED
        - AFN
        - ALL
        - AMD
        - ANG
        - AOA
        - ARS
        - AUD
        - AWG
        - AZN
        - BAM
        - BBD
        - BDT
        - BGN
        - BHD
        - BIF
        - BMD
        - BND
        - BOB
        - BOV
        - BRL
        - BSD
        - BTC
        - BTN
        - BWP
        - BYR
        - BYN
        - BZD
        - CAD
        - CDF
        - CHE
        - CHF
        - CHW
        - CLF
        - CLP
        - CNY
        - COP
        - COU
        - CRC
        - CUC
        - CUP
        - CVE
        - CZK
        - DJF
        - DKK
        - DOP
        - DZD
        - EGP
        - ERN
        - ETB
        - EUR
        - FJD
        - FKP
        - GBP
        - GEL
        - GHS
        - GIP
        - GMD
        - GNF
        - GTQ
        - GYD
        - HKD
        - HNL
        - HRK
        - HTG
        - HUF
        - IDR
        - ILS
        - INR
        - IQD
        - IRR
        - ISK
        - JMD
        - JOD
        - JPY
        - KES
        - KGS
        - KHR
        - KMF
        - KPW
        - KRW
        - KWD
        - KYD
        - KZT
        - LAK
        - LBP
        - LKR
        - LRD
        - LSL
        - LTL
        - LVL
        - LYD
        - MAD
        - MDL
        - MGA
        - MKD
        - MMK
        - MNT
        - MOP
        - MRO
        - MRU
        - MUR
        - MVR
        - MWK
        - MXN
        - MXV
        - MYR
        - MZN
        - NAD
        - NGN
        - NIO
        - NOK
        - NPR
        - NZD
        - OMR
        - PAB
        - PEN
        - PGK
        - PHP
        - PKR
        - PLN
        - PYG
        - QAR
        - RON
        - RSD
        - RUB
        - RWF
        - SAR
        - SBD
        - SCR
        - SDG
        - SEK
        - SGD
        - SHP
        - SLL
        - SOS
        - SRD
        - STD
        - STN
        - SVC
        - SYP
        - SZL
        - THB
        - TJS
        - TMT
        - TND
        - TOP
        - TRY
        - TTD
        - TWD
        - TZS
        - UAH
        - UGX
        - USD
        - USN
        - UYI
        - UYU
        - UYW
        - UZS
        - VED
        - VEF
        - VES
        - VND
        - VUV
        - WST
        - XAG
        - XAU
        - XAF
        - XBA
        - XBB
        - XBC
        - XBD
        - XCD
        - XDR
        - XOF
        - XPD
        - XPF
        - XPT
        - XSU
        - XTS
        - XUA
        - XXX
        - YER
        - ZAR
        - ZMK
        - ZWL
        - ZMW
        - SSP


